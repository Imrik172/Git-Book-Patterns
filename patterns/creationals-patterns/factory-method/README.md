---
description: Factory method
layout:
  title:
    visible: true
  description:
    visible: true
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Фабричный метод

## Назначение

Фабричный метод (Factory method) - порождающий шаблон проектирования, определяющий общий интерфейс создания объектов в родительском классе и позволяющий изменять создаваемые объекты в дочерних классах. Шаблон позволяет классу делегировать создание объектов подклассам. Используется когда заранее не известны типы объектов, с которыми должен работать код. Использование этого шаблона помогает избавить код от явного создания конкретных объектов (от оператора new). Вместо этого, код будет работать с абстрактными интерфейсом фабричного метода, который реализуют его наследники.

## Решаемые задачи

* Отделение принятия решения какой объект нужно создать от самого процесса создания объекта

Решение о выборе конкретного типа объекта принимается в части кода, который использует фабричный метод. Во время выполнения этот код определяет, какой тип объекта требуется создать, и вызывает соответствующий фабричный метод. Фактическое создание объекта происходит внутри фабричного метода.

* Возможность создавать и подменять объекты

Появляется возможность создавать объекты без привязки к конкретным классам. Это позволяет легко расширять, модифицировать или добавлять новые объекты, не изменяя другие части кода, которые используют эти объекты.

* Повторное использование объектов

Появляется возможность повторного использования одних и тех же объектов, которые были созданы в разных местах программы.

## UML диаграмма

<div data-full-width="true">

<figure><img src="../../../.gitbook/assets/fabric_white.png" alt=""><figcaption><p>UML диаграмма паттерна "Фабричный метод"</p></figcaption></figure>

</div>

## Преимущества

1. Избавляение от необходимости создания конкретного объекта в коде.
2. Создание объектов в одном месте упрощает поддержку и изменение кода.
3. Возможность во время выполнения программы принимать решение, какой объект создавать.
4. Возможность во время выполнения программы подменять создание одного объекта на другой.
5. Упрощается добавление новых классов без изменения написанного кода.

## Недостатки

1. Увеличение количества кода за счёт появления параллельных иерархий классов, усложнение разработки и проектирования.
2. Увеличение времени компиляции и исполнения.
3. Необходимость перекомплиировать один и тот же код при добавлении новых типов объектов.

## Связь с другими паттернами

* Фабричный метод может быть использован внутри [Абстрактной фабрики](../abstract-factory/) для создания конкретных объектов. Вместо того, чтобы создавать объекты напрямую, Абстрактная фабрика может использовать Фабричный метод для создания экземпляров объектов определенного типа.
* Фабричный метод может быть использован для создания [прототипов](../prototype/) объектов вместо создания новых объектов с помощью конструктора. Вместо создания объекта с нуля, Фабричный метод может использовать существующий объект-прототип и его клонирование для создания новых экземпляров. Это позволяет избежать накладных расходов на создание объектов с нуля и обеспечивает гибкость при создании новых объектов на основе существующих.
